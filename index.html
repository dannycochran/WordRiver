<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8">
<script src="lib/d3.v2.min.js"></script>
<link rel="stylesheet" href="styles/style.css" type="text/css" /> 
<div>
	<h1>A River of Twitter Words</h1>
</div>  
</head>
<body>
        
	<script type="text/javascript">
  		var fill = d3.scale.category20();
  		var width = 800;
  		var height = 900;
		var svg = d3.select("body")
			.append("svg")
	        .attr("width", width)
	        .attr("height", height);
		var words = svg.selectAll("text");
  		d3.json("twitterWords.json", function(json) {
			var wordSet = [];
			for (i=0;i<json[0].length;i++){
				for (j=0;j<json[0][0].length;j++) {
					wordSet.push({word: json[0][i][j].word, frequency: json[0][i][j].frequency});
				}
			}
			console.log(wordSet);
            words.data(wordSet).enter()
  			.append("svg:text")
  			.attr("width",50)
  			.attr("height",20)
  			.attr("y", function(d,i) {
  				return((i+1)*25)
  			})
  			.attr("x",1)
        	.style("font-size", function(d) { return d.frequency * 10 + "px"; })
			.style("font-family", "Impact")
			.style("fill", function(d, i) { return fill(i); })
			.text(function(d) {
				return d.word
			});
		})
	</script>
</body>
</html>